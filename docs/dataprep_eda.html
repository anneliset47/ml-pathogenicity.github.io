<!-- File: dataprep_eda.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>
  <title>Data Prep/EDA - Annelise Thorn</title>
</head>
<body>
  <!--===== HEADER NAVIGATION =====-->
  <header class="l-header">
    <nav class="nav bd-grid">
      <div><a href="index.html" class="nav__logo">Annelise Thorn</a></div>
    
      <div class="dropdown">
        <button class="dropbtn">Menu <i class='bx bx-chevron-down'></i></button>
        <div class="dropdown-content">
          <a href="introduction.html">Introduction</a>
          <a href="dataprep_eda.html">Data Prep/EDA</a>
          <a href="clustering.html">Clustering</a>
          <a href="pca.html">PCA</a>
          <a href="naivebayes.html">Naive Bayes</a>
          <a href="dectrees.html">Decision Tree</a>
          <a href="svms.html">SVM</a>
          <a href="nn.html">Neural Net</a>
          <a href="conclusions.html">Conclusion</a>
          <a href="aboutme.html">About Me</a>
          <a href="references.html">References</a>
        </div>
      </div>
    </nav>
  </header>

  <main class="l-main">
    <section class="section" id="dataprep_eda">
      <h2 class="section-title">Data Prep / EDA</h2>
      <div class="dataprep_eda__container bd-grid">
        
        <h3>Data Sources</h3>
        <ul>
          <li style="margin-bottom: 1.5em;"><strong>NCBI ClinVar (Entrez API)</strong> - Variant-level data focused on repeat expansion conditions.  
            <br>API base: <a href="https://www.ncbi.nlm.nih.gov/clinvar/" target="_blank">https://www.ncbi.nlm.nih.gov/clinvar/</a>
          </li>
          <li style="margin-bottom: 1.5em;"><strong>Ensembl (REST API)</strong> - Gene metadata such as location and transcript count.  
            <br>API: <a href="https://rest.ensembl.org" target="_blank">https://rest.ensembl.org</a>
          </li>
          <li><strong>1000 Genomes Project Vienna Long-Read Collection</strong> - Long-read sequencing data for over 3,000 individuals, 
            enabling detailed analysis of structural variants across global populations.
            <br>Download: <a href="https://www.internationalgenome.org/data-portal/data-collection/1kg_ont_vienna" target="_blank">
              https://www.internationalgenome.org/data-portal/data-collection/1kg_ont_vienna</a>
          </li>
        </ul>

        <h3>Why These Sources?</h3>
        <p>
          These datasets offer a comprehensive view of both pathogenic variation and normal genomic variation across populations.
          ClinVar provides clinically relevant variant data, Ensembl supports gene-level annotations, and 1000 Genomes adds population context.
        </p>

        <h3>Data Snapshots: Before vs. After Cleaning</h3>
        <div class="comparison-grid">
          <div class="comparison-block">
            <h4>ClinVar</h4>
            <img src="assets/img/Clinvar_Before.png" alt="ClinVar Before" width="300" />
            <img src="assets/img/Clinvar_After.png" alt="ClinVar After" width="300" />
          </div>
        
          <div class="comparison-block">
            <h4>Ensembl</h4>
            <img src="assets/img/Ensembl_Before.png" alt="Ensembl Before" width="300" />
            <img src="assets/img/Ensembl_After.png" alt="Ensembl After" width="300" />
          </div>
        
          <div class="comparison-block">
            <h4>Populations</h4>
            <img src="assets/img/Populations_Before.png" alt="Populations Before" width="300" />
            <img src="assets/img/Populations_After.png" alt="Populations After" width="300" />
          </div>
        
          <div class="comparison-block">
            <h4>Samples</h4>
            <img src="assets/img/Samples_Before.png" alt="Samples Before" width="300" />
            <img src="assets/img/Samples_After.png" alt="Samples After" width="300" />
          </div>
        </div>
        
        <h3>Cleaning Steps</h3>
        <ul>
          <li>Removed missing values and NA/NaN fields in ClinVar and Ensembl data.</li>
          <li>Normalized gene symbols and variant IDs to consistent formatting.</li>
          <li>Extracted useful columns only (e.g., title, accession, phenotype list).</li>
          <li>Filtered 1000 Genomes data to retain only VCF fields related to structural variants.</li>
        </ul>

        <h3>Link to Datasets</h3>
        <p>
          - <a href="https://github.com/anneliset47/annelisethorn.github.io/tree/main/Datasets" target="_blank">
              Datasets (GitHub)</a><br>
        </p>
        
        <h3>Link to Code</h3>
        <p>
          - <a href="https://github.com/anneliset47/annelisethorn.github.io/tree/main/Code" target="_blank">
              Code Repository (GitHub)</a><br>
        </p>
        
        <h3>Data Visualizations</h3>
        <div class="visualizations-grid">

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/1_clinical_significance_distribution.png" alt="Clinical Significance Distribution" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 1:</strong> Clinical significance distribution. A bar chart showing the number of variants in each clinical significance category (e.g., Pathogenic, Likely pathogenic). This provides an overview of how confidently these repeat expansion variants are linked to disease.
            </figcaption>
          </figure>

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/2_top_10_genes.png" alt="Top 10 Genes by Variant Count" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 2:</strong> Top 10 genes by variant count. A horizontal bar chart showing the genes most frequently associated with repeat expansion variants. This helps identify which genes are most clinically relevant in this dataset.
            </figcaption>
          </figure>

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/3_wordcloud_phenotypes.png" alt="Word Cloud of Phenotypes" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 3:</strong> Word cloud of phenotypes. Built from phenotype descriptions associated with ClinVar variants. More frequently mentioned traits appear larger, giving a visual summary of affected conditions.
            </figcaption>
          </figure>

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/4_phenotypes_per_variant.png" alt="Number of Phenotypes per Variant" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 4:</strong> Number of phenotypes per variant. A histogram showing how many phenotypes are linked to each variant. Most variants are associated with just one or two conditions, while some are more pleiotropic.
            </figcaption>
          </figure>

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/5_repeat_length_distribution.png" alt="Tandem Repeat Length Distribution" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 5:</strong> Tandem repeat length distribution. A histogram showing the length of tandem repeats found across the genome using Ensembl data. This highlights the variation in size of repeated sequences, relevant to expansion disorders.
            </figcaption>
          </figure>

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/6_repeats_by_chromosome.png" alt="Repeats by Chromosome" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 6:</strong> Repeats by chromosome. A bar chart showing the number of tandem repeats per chromosome. Larger chromosomes tend to have more repeats, though some smaller ones are disproportionately affected.
            </figcaption>
          </figure>

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/7_population_superpopulation.png" alt="Population by Superpopulation" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 7:</strong> Population distribution by superpopulation. A bar chart showing how many individuals are represented in each superpopulation (e.g., AFR, EUR). This gives a sense of population diversity in the 1000 Genomes long-read dataset.
            </figcaption>
          </figure>

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/8_sample_sex_distribution.png" alt="Sample Sex Distribution" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 8:</strong> Sample sex distribution. A bar chart showing the count of male and female samples in the dataset. This helps confirm whether the population is roughly balanced by sex or skewed.
            </figcaption>
          </figure>

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/9_top_populations_samples.png" alt="Top Populations by Sample Count" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 9:</strong> Top 10 populations by sample count. A horizontal bar chart showing which specific populations have the most samples sequenced. This is useful for assessing where statistical power is strongest in population-scale analyses.
            </figcaption>
          </figure>

          <figure style="text-align: center; max-width: 100%; margin: 2rem auto;">
            <img src="assets/img/10_phenotypes_by_significance.png" alt="Phenotype Count by Clinical Significance" style="max-width: 100%; height: auto;" />
            <figcaption style="font-size: 0.95rem; color: #444; margin-top: 0.5rem;">
              <strong>Figure 10:</strong> Phenotype count by clinical significance. A boxplot showing the number of phenotypes associated with each clinical significance level. Pathogenic variants may be associated with more conditions, suggesting broader clinical impact.
            </figcaption>
          </figure>
        </div>
      </div>
    </section>
  </main>
  <script src="https://unpkg.com/scrollreveal"></script>
  <script src="assets/js/main.js"></script>
</body>
</html>
